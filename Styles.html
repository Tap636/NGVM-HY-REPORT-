<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* --- A4 VIEW ON LAPTOP SCREEN --- */
/* This block forces the page to look like A4 paper on screen */
.page { 
    /* Standard A4 Width */
    width: 210mm; 
    /* Set minimum height to A4 height */
    min-height: 297mm; 
    /* Center the page and add spacing/shadow */
    margin: 20px auto; 
    padding: 18px; 
    background: white; 
    box-shadow: 0 6px 18px rgba(0,0,0,0.2); 
    border: 1px solid #ddd;
    box-sizing: border-box; /* Ensure padding is included in the width/height */
}
/* --------------------------------- */

/* -------- PRINT STYLES - A4, watermark, footer positions, etc. (UNCHANGED FIXES) -------- */
@media print {
body { -webkit-print-color-adjust: exact; }
.no-print { display: none !important; }
.screen-only { display: none !important; }
.print-only { display: block !important; } /* Attendance box visibility */

/* AGGRESSIVE PADDING REDUCTION (Fixes 2-page issue) */
.page {
  width: 210mm;
  min-height: 297mm; 
  margin: 0 auto;
  padding: 5mm 12.7mm; 
  box-shadow: none; /* Remove shadow when printing */
  background: white;
  position: relative;
  page-break-inside: avoid; 
  -webkit-print-color-adjust: exact;
  display: flex; 
  flex-direction: column;
  border: none !important; /* Remove border when printing */
}

/* Watermark centered: Opacity reduced for typical watermark effect */
.page::before{
content: "";
position: absolute; 
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 60%;
height: 60%;
background-image: url('watermark.png'); 
background-repeat: no-repeat;
background-position: center;
background-size: contain;
opacity: 0.1; 
pointer-events: none;
z-index: 0;
}

/* CONTENT HEIGHT CORRECTION */
.page-content-wrapper {
  flex-grow: 1; 
  display: flex;
  flex-direction: column;
  min-height: calc(297mm - 10mm); 
  box-sizing: border-box;
}

/* MARGIN COMPACTION FOR HEADER/BODY */
.page-content-wrapper > .border-b {
    padding-bottom: 7px !important; 
    margin-bottom: 7px !important; 
}
.page-content-wrapper > .grid.grid-cols-4 {
    margin-bottom: 5px !important; 
}


/* Footer Container */
.page-footer-area {
  margin-top: auto; 
  width: 100%;
  padding-top: 3mm; 
}

/* --- COLOR FIXES --- */
/* Ensure all text in the footer area is black when printing */
.page-footer-area, #finalFooter, #disclaimer, #printDate {
    color: black !important;
}
.muted { 
    color: black !important; 
}
/* HEADER COLOR FIX: Override the screen's indigo color with black */
.school-name-color { 
    color: black !important; 
}


/* Footer (single horizontal line) - ALIGNMENT FIXES */
#finalFooter {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  z-index: 2;
}
#finalFooter .col { 
    width: 33%; 
    box-sizing: border-box; 
    text-align: center; 
    /* Principal alignment fix */
    display: flex; 
    flex-direction: column;
    justify-content: flex-end; 
    min-height: 80px; 
}
#finalFooter .left { text-align: left; }
#finalFooter .right { text-align: right; }

.signature-space { 
    flex-grow: 1; 
    display:block; 
}
.principal-img {
    height: 48px; 
    display: block; 
    margin: 0 auto 6px; 
    object-fit: contain;
}


/* Disclaimer & Print Date */
#disclaimer {
  width: 100%;
  text-align: center;
  font-size: 10px;
  margin-top: 3px; 
  z-index: 2;
}
#printDate {
  width: 100%;
  text-align: center;
  font-size: 10px;
  margin-top: 2px; 
  z-index: 2;
}
/* table print behavior */
table { page-break-inside:relative; }
tr { page-break-inside:avoid; page-break-after:relative; }
}

/* ---------------- SCREEN STYLES (MINOR) ---------------- */
body { background: #ffffff; }
.print-only { display: none; } 
.school-name-color { color: #0f172a; } 
.school-name { letter-spacing: 1px; }
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
.muted { color:#6b7280; font-size:0.95rem; } 
.signature-label { font-size:0.95rem; text-align:center; }
.signature-sign { font-weight:600; text-align:center; margin-top:8px; }
table input[type="number"] { text-align:center; }
select.grade-select { padding:4px; border-radius:4px; }
</style>
